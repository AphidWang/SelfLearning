# 個人 Retro 面板系統

## 🎯 系統概覽

個人 Retro 面板系統是一個專為兒童設計的學習回顧工具，旨在幫助孩子們定期反思學習過程、培養自我覺察能力，並減少不知道如何回顧的心理負擔。

## ✨ 核心功能

### 1. 週完成概覽
- **打卡次數統計**：顯示本週的學習打卡頻率
- **完成任務數量**：統計本週完成的學習任務
- **平均能量/心情**：基於日記記錄計算的情緒指標
- **主要任務清單**：展示本週完成的重要學習任務
- **主要主題進度**：顯示正在學習的主題及其進度

### 2. 遊戲化問題抽取
- **轉盤動畫**：有趣的視覺抽籤體驗
- **問題分類**：
  - 🤔 反思類：學習成就感、問題解決、學習節奏
  - 🌱 成長類：新技能、進步比較、教學能力
  - 💪 挑戰類：困難面對、堅持毅力
  - 🙏 感恩類：他人幫助、愉快體驗
  - 📋 計劃類：改進方向、學習啟發、新方法嘗試
- **重抽機制**：允許重新抽取一次問題
- **自訂問題**：支援用戶提出自己的回顧問題

### 3. 回答輸入介面
- **溫馨問題展示**：清晰顯示選中的問題和提示
- **豐富文字輸入**：
  - 自動調整高度的文字區域
  - 即時字數統計和鼓勵提示
  - 表情符號插入功能
- **心情記錄**：5種心情狀態選擇（超興奮、開心、還好、有點累、壓力大）
- **特殊表情符號**：可選擇特別的表情符號標記回答

## 🎨 設計特色

### 視覺設計
- **漸層背景**：from-orange-400 to-pink-400 等暖色調
- **毛玻璃效果**：backdrop-blur-md 營造現代感
- **圓角設計**：rounded-xl/rounded-2xl 友善親和
- **縮放動畫**：hover:scale-105 增加互動性
- **彩色邊框**：border-orange-200 等柔和邊框
- **豐富陰影**：shadow-lg 增加層次感

### 用戶體驗
- **減壓設計**：溫暖色調和友善提示減少壓力
- **遊戲化元素**：轉盤抽籤、表情符號、成就感設計
- **適合兒童**：簡單易懂的介面和溫馨的引導語言
- **無壓力回顧**：強調沒有標準答案，誠實分享即可

## 🏗️ 技術架構

### 前端組件
```
components/retro/
├── PersonalRetroPanel.tsx     # 主面板組件
├── WeekOverviewCard.tsx       # 週概覽卡片
├── QuestionDrawGame.tsx       # 問題抽取遊戲
├── AnswerInputCard.tsx        # 回答輸入卡片
└── index.ts                   # 組件導出
```

### 狀態管理
```
store/retroStore.ts            # Zustand 狀態管理
├── 週統計數據獲取
├── 問題庫管理
├── 抽籤邏輯
├── 回答記錄 CRUD
└── 成就系統基礎
```

### 類型定義
```
types/retro.ts                 # TypeScript 類型定義
├── WeeklyStats                # 週統計介面
├── RetroQuestion              # 問題庫介面
├── RetroAnswer                # 回答記錄介面
├── RetroSession               # 會話管理介面
└── 遊戲化元素類型
```

### 路由配置
```
/student/retro                 # 學生個人回顧頁面
```

## 🗄️ 資料庫結構

### 核心表格
1. **retro_questions**：問題庫
   - 問題內容、類型、難度、提示、示例
   - 年齡層分類、標籤系統
   - 活躍狀態管理

2. **retro_answers**：回答記錄
   - 用戶回答內容、心情狀態
   - 週標識符、自訂問題支援
   - 表情符號記錄

3. **retro_sessions**：會話管理
   - 週統計數據快照
   - 抽取問題記錄
   - 完成狀態追蹤

### 安全性
- **RLS 策略**：用戶只能操作自己的記錄
- **角色權限**：管理員和導師可管理問題庫
- **數據加密**：敏感資料適當保護

## 🚀 使用流程

1. **進入系統**：點擊側邊欄「個人回顧」
2. **查看週統計**：了解本週學習成果
3. **抽取問題**：轉動輪盤獲得3個隨機問題
4. **選擇問題**：挑選最想回答的問題（可重抽一次）
5. **輸入回答**：
   - 寫下想法和感受
   - 選擇當前心情
   - 添加表情符號（可選）
6. **完成回顧**：儲存記錄，重置系統狀態

## 🎓 教育價值

### 自我覺察能力
- 定期反思學習過程和感受
- 識別學習模式和習慣
- 理解情緒與學習的關係

### 表達能力培養
- 練習用文字表達想法
- 學習情感詞彙和表達方式
- 培養書面溝通技巧

### 成長思維建立
- 關注進步而非完美
- 從挑戰中學習和成長
- 培養感恩和正向思考

### 規劃能力發展
- 反思過去指導未來
- 設定學習改進目標
- 嘗試新的學習策略

## 🔮 未來擴展

### 成就系統
- 連續回顧週數成就
- 深度回答品質成就
- 問題類型多樣性成就
- 情緒管理穩定性成就

### 個人化功能
- 根據年齡調整問題難度
- 學習興趣相關的問題推薦
- 個人化的鼓勵訊息

### 社交功能
- 與同學分享回顧心得（可選）
- 導師查看學生回顧摘要
- 家長了解孩子學習感受

### 數據分析
- 學習情緒趨勢分析
- 回顧品質提升建議
- 個人成長軌跡視覺化

---

## 📞 技術支援

如有任何問題或建議，請透過系統內的「回報問題」功能聯繫開發團隊。

**讓每一次回顧都成為成長的契機！** 🌟 